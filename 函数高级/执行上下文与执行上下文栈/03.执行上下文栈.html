<!DOCTYPE html>
<html>
  <head>
    <title>JS-执行上下文栈</title>
    <meta charset="utf-8">
  </head>
  <body>
  <!--
    1.在全局代码执行前，JS引擎就会创建一个栈来存储管理所有的执行上下文对象
	2.在全局执行上下文（window）确定后，将其添加到栈中（压栈）
	3.在函数执行上下文创建后，将其添加到栈中（压栈）
	4.在当前函数执行完后，将栈顶的对象移除（出栈）
	5.当所有的代码执行完后，栈中只剩下window
    -->
    <script>
	var a=10;
	var bar=function(x){
	  var b=5;
	  foo(x+b);
	}
	var foo=function(y){
	  var c=5;
	 // console.log(a+c+y);
	}
	//bar(10);
	
	console.log('---------------------');
	console.log('global begin:'+i);//undefined
	var i=1;
	foo(1);
	function foo(i){
	   if(i==4){
	      return;
	   }
	   console.log('foo() begin:'+i);//1、2、3
	   foo(i+1);//递归调用：在函数中调用自己
	   console.log('foo() end:'+i);
	}
	console.log('global end:'+i);//1
	
	function a(){};
	var a;
	console.log(typeof a);//先执行变量提升，再执行函数提升
	
	if(!(b in window)){
	  var b=1;
	}
	console.log(b);
	
	var c=1;
	function c(c){
	  console.log(c);
	};
	c(2);
	</script>
	
  </body>
</html>
	